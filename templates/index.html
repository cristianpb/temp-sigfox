<html>
  <head>
    <title>Temperature Sigfox</title>
    <style> </style>
  </head>
  <body>
    <h1>Temperature Sigfox</h1>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.js" type="text/javascript"></script>

    <canvas id="myChart"></canvas>
    <script>
        var ctx = document.getElementById('myChart').getContext('2d');
        function update_progress() {
            // send GET request to status URL
            $.getJSON("/data", function(data) {
                // update UI
                console.log(data);

                var chart = new Chart(ctx, {
                  // The type of chart we want to create
                  type: 'line',

                  // The data for our dataset
                  data: {
                    datasets: [{
                      label: 'Temperature',
                      borderColor: 'rgb(255, 99, 132)',
                      backgroundColor: 'rgb(255, 99, 132)',
                      fill: false,
                      data: data.map((item) => {
                        return {x: Number(item.seconds), y: Number(item.temperature)}

                      })
                    },{
                      label: 'Humidity',
                      borderColor: 'rgb(132, 188, 188)',
                      backgroundColor: 'rgb(132, 188, 188)',
                      fill: false,
                      data: data.map((item) => {
                        return {x: Number(item.seconds), y: Number(item.humidity)}

                      })
                    },




                    ]
                  },

                  // Configuration options go here
                  options: {}
                });



            });
        }
        update_progress();
    </script>
  </body>
</html>
